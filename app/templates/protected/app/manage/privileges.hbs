<div local-class="protected-app-manage-privileges">
  <div>
    <AmselInput @value={{this.privilegeShort}} @onChange={{fn (mut this.privilegeShort)}} />
    <AmselInput @value={{this.privilegeName}}  @onChange={{fn (mut this.privilegeName)}} />
    <Tags @onChange={{this.tagsOnChange}} @selectedTags={{this.selectedTags}}/>
    <div class="button" {{on "click" (fn this.addPrivilege @model.app.id)}}>
      Add Privilege
    </div>
  </div>
  <div local-class="table-wrapper">
  <YetiTable @data={{@model.privileges}} as |table|>
    <table.header as |header|>
      <header.column @sortable={{false}}>
        NIX
      </header.column>
      <header.column @prop="id">
        Id
      </header.column>
      <header.column @prop="short">
        Short
      </header.column>
      <header.column @prop="name">
        Name
      </header.column>
      <header.column @prop="tags">
        Tags
      </header.column>
    </table.header>
    <table.body as |body privilege index|>
      <body.row as |row|>
        <row.cell>
          
        </row.cell>
        <row.cell>
          {{privilege.id}}
        </row.cell>
        <row.cell>
          <InlineInput
            @value={{privilege.short}}
            @onChange={{fn this.dataPrivilege.updateProperty privilege "short"}}
          />
        </row.cell>
        <row.cell>
          <InlineInput
            @value={{privilege.name}}
            @onChange={{fn this.dataPrivilege.updateProperty privilege "name"}}
          />
        </row.cell>
        <row.cell>
          {{#each privilege.tags as |tag index|}}
            {{#unless (eq index 0)}}
            ,
            {{/unless}}
            {{tag}}
          {{/each}}
        </row.cell>
      </body.row>
    </table.body>
  </YetiTable>
  </div>
</div>